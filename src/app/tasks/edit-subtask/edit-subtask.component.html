<div class="edit-subtask-control">
  <form [formGroup]="form">
    <div class="edit-subtask-control-row-horizontal">
      <div class="edit-subtask-control-row-vertical" id="nameRow">
        <div class="edit-subtask-control-label">Name</div>
        <input
          class="edit-subtask-control-input"
          id="subtaskNameInput"
          type="text"
          name="subtaskNameInput"
          formControlName="name"
          [ngClass]="{
          'input-disabled': isSubtaskDone(),
          'field-invalid': isFieldInvalid('name')
          }"
        />
      </div>
      <div id="actionArea">
        @if (isSubtaskDone()) {
          <span id="doneLabel">Done</span>
        } @else {
          <button class="subtask-action-button" type="button" id="saveChangesButton" (click)="onSave()">Save</button>
          <button class="subtask-action-button" type="button" id="completeButton" (click)="onComplete()">
            <span class="tooltip-text">Marks this subtask as done</span>
            <svg fill="#000000" width="100%" height="100%" viewBox="0 0 32 32" xmlns="http://www.w3.org/2000/svg" stroke="#000000" stroke-width="0"><g id="SVGRepo_bgCarrier" stroke-width="0"></g><g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g><g id="SVGRepo_iconCarrier"><path d="M5 16.577l2.194-2.195 5.486 5.484L24.804 7.743 27 9.937l-14.32 14.32z"></path></g></svg>
          </button>
          <button class="subtask-action-button" type="button" id="deleteButton" (click)="onDelete()">
            <span class="tooltip-text">Delete subtask</span>
            <svg fill="#000000" width="100%" height="100%" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><g id="SVGRepo_bgCarrier" stroke-width="0"></g><g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g><g id="SVGRepo_iconCarrier"> <path d="M0 14.545L1.455 16 8 9.455 14.545 16 16 14.545 9.455 8 16 1.455 14.545 0 8 6.545 1.455 0 0 1.455 6.545 8z" fill-rule="evenodd"></path> </g></svg>
          </button>
        }
      </div>
    </div>
    <div class="edit-subtask-control-row-vertical" id="descriptionRow">
      <div class="edit-subtask-control-label">Description</div>
      <input
        class="edit-subtask-control-input"
        id="subtaskDescriptionInput"
        type="text"
        name="subtaskDescriptionInput"
        formControlName="description"
        [ngClass]="{'input-disabled': isSubtaskDone()}"
      />
    </div>
  </form>
</div>
